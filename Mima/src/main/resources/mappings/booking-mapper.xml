<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mima.app.session.mapper.BookingMapper">

<select id="getList" resultType="BookingVO">
	SELECT B.BOOKING_NO,
		   B.PT_NO,
		   B.DOC_NO,
		   B.BOOKING_DATE,
		   B.PRICE,
		   B.PAY_STATUS,
		   B.CONSULT_DATE,
		   B.CONSULT_TIME,
		   M.NAME
	FROM BOOKING B JOIN MEMBER M
	ON B.PT_NO=M.MEMBER_NO
	WHERE B.CONSULT_DATE=TO_DATE(SYSDATE)
</select>

<select id="getlatestapptList" resultType="BookingVO">
	<![CDATA[
	SELECT B.BOOKING_NO,
		   B.PT_NO,
		   B.DOC_NO,
		   B.BOOKING_DATE,
		   B.PRICE,
		   B.PAY_STATUS,
		   B.CONSULT_DATE,
		   B.CONSULT_TIME,
		   M.NAME
    FROM BOOKING B JOIN MEMBER M
    ON B.PT_NO=M.MEMBER_NO
    WHERE ROWNUM < 6 AND CONSULT_DATE < TO_DATE(SYSDATE)
    ORDER BY CONSULT_DATE DESC
    ]]>
</select>

<select id="apptList" resultType="BookingVO">
	<![CDATA[
	SELECT B.BOOKING_NO,
		   B.PT_NO,
		   B.DOC_NO,
		   B.BOOKING_DATE,
		   B.PRICE,
		   B.PAY_STATUS,
		   B.CONSULT_DATE,
		   B.CONSULT_TIME,
		   M.NAME
	FROM BOOKING B JOIN MEMBER M
	ON B.PT_NO=M.MEMBER_NO
    WHERE B.CONSULT_DATE>TO_DATE(SYSDATE)
	ORDER BY CONSULT_DATE ASC, CONSULT_TIME ASC
	]]>
</select>

<select id="">
	
</select>

</mapper>